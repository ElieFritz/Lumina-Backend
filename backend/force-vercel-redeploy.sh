#!/bin/bash

echo "üîÑ Force Vercel Redeploy"
echo "======================="

echo "üìã Probl√®me identifi√© :"
echo "Vercel ne trouve pas les fichiers compil√©s dist/"
echo "Solution : Forcer un red√©ploiement complet"
echo ""

echo "üîß √âtapes √† suivre :"
echo ""
echo "1. **Allez sur le Dashboard Vercel :**"
echo "   https://vercel.com/dashboard"
echo ""
echo "2. **S√©lectionnez votre projet :**"
echo "   backend-nine-omega-30"
echo ""
echo "3. **Allez dans l'onglet 'Deployments'**"
echo ""
echo "4. **Cliquez sur les 3 points (...) du dernier d√©ploiement**"
echo ""
echo "5. **S√©lectionnez 'Redeploy'**"
echo ""
echo "6. **OU cr√©ez un nouveau d√©ploiement :**"
echo "   - Cliquez sur 'Deploy'"
echo "   - S√©lectionnez 'Use this commit'"
echo "   - Laissez les param√®tres par d√©faut"
echo ""

echo "üîç Configuration actuelle :"
echo "- vercel.json : Configuration simplifi√©e"
echo "- api/index.js : Handler NestJS optimis√©"
echo "- dist/ : Fichiers compil√©s pr√©sents"
echo ""

echo "‚úÖ Apr√®s red√©ploiement, testez :"
echo "curl https://backend-nine-omega-30.vercel.app/api/health"
echo ""

echo "üìä Si le probl√®me persiste :"
echo "1. V√©rifiez les logs de build dans Vercel"
echo "2. V√©rifiez que dist/ est bien inclus"
echo "3. Essayez de supprimer et recr√©er le projet"
echo ""

echo "üéØ Alternative : D√©ploiement via CLI"
echo "npx vercel --prod --force"
